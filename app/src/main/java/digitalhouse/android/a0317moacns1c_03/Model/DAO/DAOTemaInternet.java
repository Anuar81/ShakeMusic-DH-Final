package digitalhouse.android.a0317moacns1c_03.Model.DAO;import android.os.AsyncTask;import com.google.gson.Gson;import digitalhouse.android.a0317moacns1c_03.Model.Pojo.Tema;import digitalhouse.android.a0317moacns1c_03.utils.DAOException;import digitalhouse.android.a0317moacns1c_03.utils.HTTPConnectionManager;import digitalhouse.android.a0317moacns1c_03.utils.ResultListener;/** * Created by alarr on 22/6/2017. */public class DAOTemaInternet {    String idTemaABuscar;    public void buscarTemaInternet(ResultListener<Tema> listenerDeController, String idTemaABuscar){        this.idTemaABuscar = idTemaABuscar;        MinionTema minion = new MinionTema();        minion.setListenerController(listenerDeController);        minion.execute();    }    class MinionTema extends AsyncTask<String,Void,Tema>{        private ResultListener<Tema> listenerController;        public void setListenerController(ResultListener<Tema> listenerController) {            this.listenerController = listenerController;        }        @Override        protected Tema doInBackground(String... params) {            try{                //List<Tema>listaDeTemaEncontrado = new ArrayList<>();                Tema tema = new Tema();                HTTPConnectionManager httpConnectionManager = new HTTPConnectionManager();                String stringApi = httpConnectionManager.getRequestString("https://api.deezer.com/track/"+idTemaABuscar );                Gson gson = new Gson();                Tema temaBuscado = gson.fromJson(stringApi,Tema.class);                if (temaBuscado != null){                    tema = temaBuscado;                    return tema;                }                return tema;            }catch (DAOException e){                e.printStackTrace();            }            return null;        }        @Override        protected void onPostExecute(Tema tema) {            listenerController.finish(tema);        }    }}